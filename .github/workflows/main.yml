name: Deploy via ftp
on: 
  push:
    branches: [ master ]
jobs:
        deploy:
          name: Deploy
          runs-on: ubuntu-latest
          steps:
          - uses: actions/checkout@v4
          - uses: actions/setup-node@v1
            with:
              node-version: 18.18.0
          - name: Install packages with NPM
            run: npm install
          - name: Build for production
            run: npm run build --prod

          - name: FTP Deploy Locaweb
            uses: locaweb/ftp-deploy@1.0.0
            with:
              host: ${{ secrets.hosttop }} 
              user: ${{ secrets.usertop }}
              password: ${{ secrets.passtop }}
              remoteDir: "web/admin"
